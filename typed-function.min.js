!function(r,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e=t();for(var n in e)("object"==typeof exports?exports:r)[n]=e[n]}}(this,function(){return function(r){function t(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return r[n].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var e={};return t.m=r,t.c=e,t.d=function(r,e,n){t.o(r,e)||Object.defineProperty(r,e,{configurable:!1,enumerable:!0,get:n})},t.n=function(r){var e=r&&r.__esModule?function(){return r["default"]}:function(){return r};return t.d(e,"a",e),e},t.o=function(r,t){return Object.prototype.hasOwnProperty.call(r,t)},t.p="",t(t.s=2)}([function(r,t){"use strict";function e(r,t){return-1!==r.indexOf(t)}function n(r,t){for(var e,n=0;n<t.types.length;n++){var s=t.types[n];if(s.name===r){e=s.test;break}}if(!e){var o;for(n=0;n<t.types.length;n++)if(s=t.types[n],s.name.toLowerCase()==r.toLowerCase()){o=s.name;break}throw new Error('Unknown type "'+r+'"'+(o?'. Did you mean "'+o+'"?':""))}return e}function s(r){return r[r.length-1]}t.a=e,t.b=n,t.c=s},function(r,t,e){"use strict";function n(r,t){if("string"==typeof r){var e=r.trim(),s="..."===e.substr(0,3);if(s&&(e=e.substr(3)),""===e)this.types=["any"];else{this.types=e.split("|");for(var o=0;o<this.types.length;o++)this.types[o]=this.types[o].trim()}}else{if(!Array.isArray(r)){if(r instanceof n)return r.clone();throw new Error("String or Array expected")}this.types=r}this.conversions=[],this.varArgs=s||t||!1,this.anyType=-1!==this.types.indexOf("any")}t.a=n;var s=e(0);n.compare=function(r,t,e){if(r.anyType)return 1;if(t.anyType)return-1;if(Object(s.a)(r.types,"Object"))return 1;if(Object(s.a)(t.types,"Object"))return-1;if(r.hasConversions()){if(t.hasConversions()){var n,o,a;for(n=0;n<r.conversions.length;n++)if(void 0!==r.conversions[n]){o=r.conversions[n];break}for(n=0;n<t.conversions.length;n++)if(void 0!==t.conversions[n]){a=t.conversions[n];break}return e.conversions.indexOf(o)-e.conversions.indexOf(a)}return 1}if(t.hasConversions())return-1;var i,p;for(n=0;n<e.types.length;n++)if(e.types[n].name===r.types[0]){i=n;break}for(n=0;n<e.types.length;n++)if(e.types[n].name===t.types[0]){p=n;break}return i-p},n.prototype.overlapping=function(r){for(var t=0;t<this.types.length;t++)if(Object(s.a)(r.types,this.types[t]))return!0;return!1},n.prototype.matches=function(r){return this.anyType||r.anyType||this.overlapping(r)},n.prototype.clone=function(){var r=new n(this.types.slice(),this.varArgs);return r.conversions=this.conversions.slice(),r},n.prototype.hasConversions=function(){return this.conversions.length>0},n.prototype.contains=function(r){for(var t=0;t<this.types.length;t++)if(r[this.types[t]])return!0;return!1},n.prototype.toString=function(r){for(var t=[],e={},n=0;n<this.types.length;n++){var s=this.conversions[n],o=r&&s?s.to:this.types[n];o in e||(e[o]=!0,t.push(o))}return(this.varArgs?"...":"")+t.join("|")}},function(r,t,e){const n=e(3).typed;r.exports=n},function(r,t,e){"use strict";function n(){function r(r){for(var t="",e=0;e<r.length;e++){var n=r[e];if(n.signatures&&""!=n.name)if(""==t)t=n.name;else if(t!=n.name){var s=new Error("Function names do not match (expected: "+t+", actual: "+n.name+")");throw s.data={actual:n.name,expected:t},s}}return t}function t(r,t,e,n,s){var o,a=l(n),i=s?s.split(","):null,u=r||"unnamed",f=i&&Object(p.a)(i,"any"),h={fn:r,index:e,actual:n,expected:i};o=i?t>e&&!f?"Unexpected type of argument in function "+u+" (expected: "+i.join(" or ")+", actual: "+a+", index: "+e+")":"Too few arguments in function "+u+" (expected: "+i.join(" or ")+", index: "+e+")":"Too many arguments in function "+u+" (expected: "+e+", actual: "+t+")";var c=new TypeError(o);return c.data=h,c}function e(r){var t,e,n={},s=[];for(var o in r)if(r.hasOwnProperty(o)){var i=r[o];if(t=new a.a(o,i),t.typed=x,t.ignore())continue;var u=t.expand();for(e=0;e<u.length;e++){var f=u[e],h=f.toString(),c=n[h];if(c){var g=a.a.compare(f,c,x);if(0>g)n[h]=f;else if(0===g)throw new Error('Signature "'+h+'" is defined twice')}else n[h]=f}}for(h in n)n.hasOwnProperty(h)&&s.push(n[h]);for(s.sort(function(r,t){return a.a.compare(r,t,x)}),e=0;e<s.length;e++)if(t=s[e],t.varArgs)for(var v=t.params.length-1,l=t.params[v],y=0;y<l.types.length;){if(l.conversions[y])for(var m=l.types[y],d=0;d<s.length;d++){var w=s[d],b=w.params[v];if(w!==t&&b&&Object(p.a)(b.types,m)&&!b.conversions[v]){l.types.splice(y,1),l.conversions.splice(y,1),y--;break}}y++}return s}function u(r){for(var t=[],e=0;e<r.length;e++)r[e].anyType&&t.push(r[e]);return t}function f(r){for(var t={},e=0;e<r.length;e++){var n=r[e];if(n.fn&&!n.hasConversions()){var s=n.params.join(",");t[s]=n.fn}}return t}function h(r,t,e){var n,s,a,u=t.length,f=[];for(n=0;n<r.length;n++)s=r[n],s.params.length!==u||a||(a=s),void 0!=s.params[u]&&f.push(s);f.sort(function(r,t){return o.a.compare(r.params[u],t.params[u],x)});var c=[];for(n=0;n<f.length;n++){s=f[n];var g=s.params[u],v=c.filter(function(r){return r.param.overlapping(g)})[0];if(v){if(v.param.varArgs)throw new Error('Conflicting types "'+v.param+'" and "'+g+'"');v.signatures.push(s)}else c.push({param:g,signatures:[s]})}var l=[];for(n=0;n<e.length;n++)e[n].paramsStartWith(t)&&l.push(e[n]);var y=!1;for(n=0;n<l.length;n++)if(!Object(p.a)(r,l[n])){y=!0;break}var m=new Array(c.length);for(n=0;n<c.length;n++){var d=c[n];m[n]=h(d.signatures,t.concat(d.param),l)}const w=new i.a(t,a,m,y);return w.typed=x,w}function c(r){for(var t=[],e=0;r>e;e++)t[e]="arg"+e;return t}function g(r,n){var o=new s.a,a=e(n);if(0==a.length)throw new Error("No signatures provided");var i=u(a),p=h(a,[],i),g=[],l=r||"",y=c(v(a));g.push("function "+l+"("+y.join(", ")+") {"),g.push('  "use strict";'),g.push("  var name = '"+l+"';"),g.push(p.toCode(o,"  ",!1)),g.push("}");var m=[o.toCode(),"return "+g.join("\n")].join("\n"),d=new Function(o.name,"createError",m),w=d(o,t);return w.signatures=f(a),w}function v(r){for(var t=0,e=0;e<r.length;e++){var n=r[e].params.length;n>t&&(t=n)}return t}function l(r){for(var t,e=0;e<x.types.length;e++){var n=x.types[e];if("Object"===n.name)t=n;else if(n.test(r))return n.name}return t&&t.test(r)?t.name:"unknown"}function y(r,t){if(!r.signatures)throw new TypeError("Function is no typed-function");var e;if("string"==typeof t){e=t.split(",");for(var n=0;n<e.length;n++)e[n]=e[n].trim()}else{if(!Array.isArray(t))throw new TypeError("String array or a comma separated string expected");e=t}var s=e.join(","),o=r.signatures[s];if(o)return o;throw new TypeError("Signature not found (signature: "+(r.name||"unnamed")+"("+e.join(", ")+"))")}function m(r,t){var e=l(r);if(t===e)return r;for(var n=0;n<x.conversions.length;n++){var s=x.conversions[n];if(s.from===e&&s.to===t)return s.convert(r)}throw new Error("Cannot convert from "+e+" to "+t)}var d=[{name:"number",test:function(r){return"number"==typeof r}},{name:"string",test:function(r){return"string"==typeof r}},{name:"boolean",test:function(r){return"boolean"==typeof r}},{name:"Function",test:function(r){return"function"==typeof r}},{name:"Array",test:Array.isArray},{name:"Date",test:function(r){return r instanceof Date}},{name:"RegExp",test:function(r){return r instanceof RegExp}},{name:"Object",test:function(r){return"object"==typeof r}},{name:"null",test:function(r){return null===r}},{name:"undefined",test:function(r){return void 0===r}}],w={},b=[],j=[],x={config:w,types:d,conversions:b,ignore:j};return x=g("typed",{Object:function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(t[n]);var s=r(e);return g(s,t)},"string, Object":g,"...Function":function(t){for(var e,n=r(t),s={},o=0;o<t.length;o++){var a=t[o];if("object"!=typeof a.signatures)throw e=new TypeError("Function is no typed-function (index: "+o+")"),e.data={index:o},e;for(var i in a.signatures)if(a.signatures.hasOwnProperty(i))if(s.hasOwnProperty(i)){if(a.signatures[i]!==s[i])throw e=new Error('Signature "'+i+'" is defined twice'),e.data={signature:i},e}else s[i]=a.signatures[i]}return g(n,s)}}),x.config=w,x.types=d,x.conversions=b,x.ignore=j,x.create=n,x.find=y,x.convert=m,x.addType=function(r){if(!r||"string"!=typeof r.name||"function"!=typeof r.test)throw new TypeError("Object with properties {name: string, test: function} expected");x.types.push(r)},x.addConversion=function(r){if(!r||"string"!=typeof r.from||"string"!=typeof r.to||"function"!=typeof r.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");x.conversions.push(r)},x}Object.defineProperty(t,"__esModule",{value:!0});var s=e(4),o=e(1),a=e(5),i=e(6),p=e(0);const u=n();t.typed=u},function(r,t){"use strict";function e(r){this.name=r||"refs",this.categories={}}t.a=e,e.prototype.add=function(r,t){var e=t||"fn";this.categories[e]||(this.categories[e]=[]);var n=this.categories[e].indexOf(r);return-1==n&&(n=this.categories[e].length,this.categories[e].push(r)),e+n},e.prototype.toCode=function(){var r=[],t=this.name+".categories",e=this.categories;for(var n in e)if(e.hasOwnProperty(n))for(var s=e[n],o=0;o<s.length;o++)r.push("var "+n+o+" = "+t+"['"+n+"']["+o+"];");return r.join("\n")}},function(r,t,e){"use strict";function n(r,t){var e;if("string"==typeof r)e=""!==r?r.split(","):[];else{if(!Array.isArray(r))throw new Error("string or Array expected");e=r}this.params=new Array(e.length),this.anyType=!1,this.varArgs=!1;for(var n=0;n<e.length;n++){var o=new s.a(e[n]);if(this.params[n]=o,o.anyType&&(this.anyType=!0),n===e.length-1)this.varArgs=o.varArgs;else if(o.varArgs)throw new SyntaxError('Unexpected variable arguments operator "..."')}this.fn=t}t.a=n;var s=e(1),o=e(0);n.prototype.clone=function(){return new n(this.params.slice(),this.fn)},n.prototype.expand=function(){function r(a,i){if(i.length<a.params.length){var p,u,f,h=a.params[i.length];if(h.varArgs){for(u=h.clone(),p=0;p<e.conversions.length;p++)if(f=e.conversions[p],!Object(o.a)(h.types,f.from)&&Object(o.a)(h.types,f.to)){var c=u.types.length;u.types[c]=f.from,u.conversions[c]=f}r(a,i.concat(u))}else{for(p=0;p<h.types.length;p++)r(a,i.concat(new s.a(h.types[p])));for(p=0;p<e.conversions.length;p++)f=e.conversions[p],!Object(o.a)(h.types,f.from)&&Object(o.a)(h.types,f.to)&&(u=new s.a(f.from),u.conversions[0]=f,r(a,i.concat(u)))}}else t.push(new n(i,a.fn))}var t=[],e=this.typed;return r(this,[]),t},n.compare=function(r,t,e){if(r.params.length>t.params.length)return 1;if(r.params.length<t.params.length)return-1;var n,o=r.params.length,a=0,i=0;for(n=0;o>n;n++)r.params[n].hasConversions()&&a++,t.params[n].hasConversions()&&i++;if(a>i)return 1;if(i>a)return-1;for(n=0;n<r.params.length;n++){var p=s.a.compare(r.params[n],t.params[n],e);if(0!==p)return p}return 0},n.prototype.hasConversions=function(){for(var r=0;r<this.params.length;r++)if(this.params[r].hasConversions())return!0;return!1},n.prototype.ignore=function(){for(var r={},t=0;t<this.typed.ignore.length;t++)r[this.typed.ignore[t]]=!0;for(t=0;t<this.params.length;t++)if(this.params[t].contains(r))return!0;return!1},n.prototype.paramsStartWith=function(r){if(0===r.length)return!0;for(var t=Object(o.c)(this.params),e=Object(o.c)(r),n=0;n<r.length;n++){var s=this.params[n]||(t.varArgs?t:null),a=r[n]||(e.varArgs?e:null);if(!s||!a||!s.matches(a))return!1}return!0},n.prototype.toCode=function(r,t){for(var e=[],n=new Array(this.params.length),s=0;s<this.params.length;s++){var o=this.params[s],a=o.conversions[0];n[s]=o.varArgs?"varArgs":a?r.add(a.convert,"convert")+"(arg"+s+")":"arg"+s}var i=this.fn?r.add(this.fn,"signature"):void 0;return i?t+"return "+i+"("+n.join(", ")+"); // signature: "+this.params.join(", "):e.join("\n")},n.prototype.toString=function(){return this.params.join(", ")}},function(r,t,e){"use strict";function n(r,t,e,n){this.path=r||[],this.param=r[r.length-1]||null,this.signature=t||null,this.childs=e||[],this.fallThrough=n||!1}t.a=n;var s=e(0);n.prototype.toCode=function(r,t){var e=this.typed,n=[];if(this.param){var o=this.path.length-1,a=this.param.conversions[0],i="// type: "+(a?a.from+" (convert to "+a.to+")":this.param);if(this.param.varArgs)if(this.param.anyType)n.push(t+"if (arguments.length > "+o+") {"),n.push(t+"  var varArgs = [];"),n.push(t+"  for (var i = "+o+"; i < arguments.length; i++) {"),n.push(t+"    varArgs.push(arguments[i]);"),n.push(t+"  }"),n.push(this.signature.toCode(r,t+"  ")),n.push(t+"}");else{for(var p=function(t,n){for(var o=[],a=0;a<t.length;a++)o[a]=r.add(Object(s.b)(t[a],e),"test")+"("+n+")";return o.join(" || ")}.bind(this),u=this.param.types,f=[],h=0;h<u.length;h++)void 0===this.param.conversions[h]&&f.push(u[h]);n.push(t+"if ("+p(u,"arg"+o)+") { "+i),n.push(t+"  var varArgs = [arg"+o+"];"),n.push(t+"  for (var i = "+(o+1)+"; i < arguments.length; i++) {"),n.push(t+"    if ("+p(f,"arguments[i]")+") {"),n.push(t+"      varArgs.push(arguments[i]);");for(var h=0;h<u.length;h++){var c=this.param.conversions[h];if(c){var g=r.add(Object(s.b)(u[h],e),"test"),v=r.add(c.convert,"convert");n.push(t+"    }"),n.push(t+"    else if ("+g+"(arguments[i])) {"),n.push(t+"      varArgs.push("+v+"(arguments[i]));")}}n.push(t+"    } else {"),n.push(t+"      throw createError(name, arguments.length, i, arguments[i], '"+f.join(",")+"');"),n.push(t+"    }"),n.push(t+"  }"),n.push(this.signature.toCode(r,t+"  ")),n.push(t+"}")}else if(this.param.anyType)n.push(t+"// type: any"),n.push(this._innerCode(r,t));else{var l=this.param.types[0],g="any"!==l?r.add(Object(s.b)(l,e),"test"):null;n.push(t+"if ("+g+"(arg"+o+")) { "+i),n.push(this._innerCode(r,t+"  ")),n.push(t+"}")}}else n.push(this._innerCode(r,t));return n.join("\n")},n.prototype._innerCode=function(r,t){var e,n=[];for(this.signature&&(n.push(t+"if (arguments.length === "+this.path.length+") {"),n.push(this.signature.toCode(r,t+"  ")),n.push(t+"}")),e=0;e<this.childs.length;e++)n.push(this.childs[e].toCode(r,t));if(!this.fallThrough||this.param&&this.param.anyType){var s=this._exceptions(r,t);s&&n.push(s)}return n.join("\n")},n.prototype._exceptions=function(r,t){var e=this.path.length;if(0===this.childs.length)return[t+"if (arguments.length > "+e+") {",t+"  throw createError(name, arguments.length, "+e+", arguments["+e+"]);",t+"}"].join("\n");for(var n={},s=[],o=0;o<this.childs.length;o++){var a=this.childs[o];if(a.param)for(var i=0;i<a.param.types.length;i++){var p=a.param.types[i];p in n||a.param.conversions[i]||(n[p]=!0,s.push(p))}}return t+"throw createError(name, arguments.length, "+e+", arguments["+e+"], '"+s.join(",")+"');"}}])});