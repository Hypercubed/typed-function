!function(r,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e=t();for(var n in e)("object"==typeof exports?exports:r)[n]=e[n]}}(this,function(){return function(r){function t(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return r[n].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var e={};return t.m=r,t.c=e,t.d=function(r,e,n){t.o(r,e)||Object.defineProperty(r,e,{configurable:!1,enumerable:!0,get:n})},t.n=function(r){var e=r&&r.__esModule?function(){return r["default"]}:function(){return r};return t.d(e,"a",e),e},t.o=function(r,t){return Object.prototype.hasOwnProperty.call(r,t)},t.p="",t(t.s=2)}([function(r,t){"use strict";function e(r,t){return-1!==r.indexOf(t)}function n(r){return r[r.length-1]}t.a=e,t.b=n},function(r,t,e){"use strict";function n(r,t){if("string"==typeof r){var e=r.trim(),s="..."===e.substr(0,3);if(s&&(e=e.substr(3)),""===e)this.types=["any"];else{this.types=e.split("|");for(var o=0;o<this.types.length;o++)this.types[o]=this.types[o].trim()}}else{if(!Array.isArray(r)){if(r instanceof n)return r.clone();throw new Error("String or Array expected")}this.types=r}this.conversions=[],this.varArgs=s||t||!1,this.anyType=-1!==this.types.indexOf("any")}t.a=n;var s=e(0);n.compare=function(r,t,e){if(r.anyType)return 1;if(t.anyType)return-1;if(Object(s.a)(r.types,"Object"))return 1;if(Object(s.a)(t.types,"Object"))return-1;if(r.hasConversions()){if(t.hasConversions()){var n,o,i;for(n=0;n<r.conversions.length;n++)if(void 0!==r.conversions[n]){o=r.conversions[n];break}for(n=0;n<t.conversions.length;n++)if(void 0!==t.conversions[n]){i=t.conversions[n];break}return e.conversions.indexOf(o)-e.conversions.indexOf(i)}return 1}if(t.hasConversions())return-1;var a,p;for(n=0;n<e.types.length;n++)if(e.types[n].name===r.types[0]){a=n;break}for(n=0;n<e.types.length;n++)if(e.types[n].name===t.types[0]){p=n;break}return a-p},n.prototype.overlapping=function(r){for(var t=0;t<this.types.length;t++)if(Object(s.a)(r.types,this.types[t]))return!0;return!1},n.prototype.matches=function(r){return this.anyType||r.anyType||this.overlapping(r)},n.prototype.clone=function(){var r=new n(this.types.slice(),this.varArgs);return r.conversions=this.conversions.slice(),r},n.prototype.hasConversions=function(){return this.conversions.length>0},n.prototype.contains=function(r){for(var t=0;t<this.types.length;t++)if(r[this.types[t]])return!0;return!1},n.prototype.toString=function(r){for(var t=[],e={},n=0;n<this.types.length;n++){var s=this.conversions[n],o=r&&s?s.to:this.types[n];o in e||(e[o]=!0,t.push(o))}return(this.varArgs?"...":"")+t.join("|")}},function(r,t,e){(function(t){const n=e(4).create();r.exports=n,t.typed=n}).call(t,e(3))},function(r){var t;t=function(){return this}();try{t=t||Function("return this")()||(1,eval)("this")}catch(e){"object"==typeof window&&(t=window)}r.exports=t},function(r,t,e){"use strict";function n(){function r(r){if(!r||"string"!=typeof r.name||"function"!=typeof r.test)throw new TypeError("Object with properties {name: string, test: function} expected");A.types.push(r)}function t(r){if(!r||"string"!=typeof r.from||"string"!=typeof r.to||"function"!=typeof r.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");A.conversions.push(r)}function e(r){for(var t="",e=0;e<r.length;e++){var n=r[e];if(n.signatures&&""!=n.name)if(""==t)t=n.name;else if(t!=n.name){var s=new Error("Function names do not match (expected: "+t+", actual: "+n.name+")");throw s.data={actual:n.name,expected:t},s}}return t}function u(r,t,e,n,s){var o,i=m(n),a=s?s.split(","):null,u=r||"unnamed",f=a&&Object(p.a)(a,"any"),h={fn:r,index:e,actual:n,expected:a};o=a?t>e&&!f?"Unexpected type of argument in function "+u+" (expected: "+a.join(" or ")+", actual: "+i+", index: "+e+")":"Too few arguments in function "+u+" (expected: "+a.join(" or ")+", index: "+e+")":"Too many arguments in function "+u+" (expected: "+e+", actual: "+t+")";var c=new TypeError(o);return c.data=h,c}function f(r){var t,e,n={},s=[];for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];if(t=new i.a(A,o,a),t.ignore())continue;var u=t.expand();for(e=0;e<u.length;e++){var f=u[e],h=f.toString(),c=n[h];if(c){var g=i.a.compare(f,c,A);if(0>g)n[h]=f;else if(0===g)throw new Error('Signature "'+h+'" is defined twice')}else n[h]=f}}for(h in n)n.hasOwnProperty(h)&&s.push(n[h]);for(s.sort(function(r,t){return i.a.compare(r,t,A)}),e=0;e<s.length;e++)if(t=s[e],t.varArgs)for(var v=t.params.length-1,l=t.params[v],y=0;y<l.types.length;){if(l.conversions[y])for(var m=l.types[y],d=0;d<s.length;d++){var w=s[d],b=w.params[v];if(w!==t&&b&&Object(p.a)(b.types,m)&&!b.conversions[v]){l.types.splice(y,1),l.conversions.splice(y,1),y--;break}}y++}return s}function h(r){for(var t=[],e=0;e<r.length;e++)r[e].anyType&&t.push(r[e]);return t}function c(r){for(var t={},e=0;e<r.length;e++){var n=r[e];if(n.fn&&!n.hasConversions()){var s=n.params.join(",");t[s]=n.fn}}return t}function g(r,t,e){var n,s,i,u=t.length,f=[];for(n=0;n<r.length;n++)s=r[n],s.params.length!==u||i||(i=s),void 0!=s.params[u]&&f.push(s);f.sort(function(r,t){return o.a.compare(r.params[u],t.params[u],A)});var h=[];for(n=0;n<f.length;n++){s=f[n];var c=s.params[u],v=h.filter(function(r){return r.param.overlapping(c)})[0];if(v){if(v.param.varArgs)throw new Error('Conflicting types "'+v.param+'" and "'+c+'"');v.signatures.push(s)}else h.push({param:c,signatures:[s]})}var l=[];for(n=0;n<e.length;n++)e[n].paramsStartWith(t)&&l.push(e[n]);var y=!1;for(n=0;n<l.length;n++)if(!Object(p.a)(r,l[n])){y=!0;break}var m=new Array(h.length);for(n=0;n<h.length;n++){var d=h[n];m[n]=g(d.signatures,t.concat(d.param),l)}const w=new a.a(A.types,t,i,m,y);return w}function v(r){for(var t=[],e=0;r>e;e++)t[e]="arg"+e;return t}function l(r,t){var e=new s.a,n=f(t);if(0==n.length)throw new Error("No signatures provided");var o=h(n),i=g(n,[],o),a=[],p=r||"",l=v(y(n));a.push("function "+p+"("+l.join(", ")+") {"),a.push('  "use strict";'),a.push("  var name = '"+p+"';"),a.push(i.toCode(e,"  ",A)),a.push("}");var m=[e.toCode(),"return "+a.join("\n")].join("\n"),d=new Function(e.name,"createError",m),w=d(e,u);return w.signatures=c(n),w}function y(r){for(var t=0,e=0;e<r.length;e++){var n=r[e].params.length;n>t&&(t=n)}return t}function m(r){for(var t,e=0;e<A.types.length;e++){var n=A.types[e];if("Object"===n.name)t=n;else if(n.test(r))return n.name}return t&&t.test(r)?t.name:"unknown"}function d(r,t){if(!r.signatures)throw new TypeError("Function is no typed-function");var e;if("string"==typeof t){e=t.split(",");for(var n=0;n<e.length;n++)e[n]=e[n].trim()}else{if(!Array.isArray(t))throw new TypeError("String array or a comma separated string expected");e=t}var s=e.join(","),o=r.signatures[s];if(o)return o;throw new TypeError("Signature not found (signature: "+(r.name||"unnamed")+"("+e.join(", ")+"))")}function w(r,t){var e=m(r);if(t===e)return r;for(var n=0;n<A.conversions.length;n++){var s=A.conversions[n];if(s.from===e&&s.to===t)return s.convert(r)}throw new Error("Cannot convert from "+e+" to "+t)}var b=[{name:"number",test:function(r){return"number"==typeof r}},{name:"string",test:function(r){return"string"==typeof r}},{name:"boolean",test:function(r){return"boolean"==typeof r}},{name:"Function",test:function(r){return"function"==typeof r}},{name:"Array",test:Array.isArray},{name:"Date",test:function(r){return r instanceof Date}},{name:"RegExp",test:function(r){return r instanceof RegExp}},{name:"Object",test:function(r){return"object"==typeof r}},{name:"null",test:function(r){return null===r}},{name:"undefined",test:function(r){return void 0===r}}],j={},x=[],O=[],A={config:j,types:b,conversions:x,ignore:O};return A=l("typed",{Object:function(r){var t=[];for(var n in r)r.hasOwnProperty(n)&&t.push(r[n]);var s=e(t);return l(s,r)},"string, Object":l,"...Function":function(r){for(var t,n=e(r),s={},o=0;o<r.length;o++){var i=r[o];if("object"!=typeof i.signatures)throw t=new TypeError("Function is no typed-function (index: "+o+")"),t.data={index:o},t;for(var a in i.signatures)if(i.signatures.hasOwnProperty(a))if(s.hasOwnProperty(a)){if(i.signatures[a]!==s[a])throw t=new Error('Signature "'+a+'" is defined twice'),t.data={signature:a},t}else s[a]=i.signatures[a]}return l(n,s)}}),A.config=j,A.types=b,A.conversions=x,A.ignore=O,A.create=n,A.find=d,A.convert=w,A.addType=r,A.addConversion=t,A}Object.defineProperty(t,"__esModule",{value:!0}),t.create=n;var s=e(5),o=e(1),i=e(6),a=e(7),p=e(0)},function(r,t){"use strict";function e(r){this.name=r||"refs",this.categories={}}t.a=e,e.prototype.add=function(r,t){var e=t||"fn";this.categories[e]||(this.categories[e]=[]);var n=this.categories[e].indexOf(r);return-1==n&&(n=this.categories[e].length,this.categories[e].push(r)),e+n},e.prototype.toCode=function(){var r=[],t=this.name+".categories",e=this.categories;for(var n in e)if(e.hasOwnProperty(n))for(var s=e[n],o=0;o<s.length;o++)r.push("var "+n+o+" = "+t+"['"+n+"']["+o+"];");return r.join("\n")}},function(r,t,e){"use strict";function n(r,t,e){this.typed=r;var n;if("string"==typeof t)n=""!==t?t.split(","):[];else{if(!Array.isArray(t))throw new Error("string or Array expected");n=t}this.params=new Array(n.length),this.anyType=!1,this.varArgs=!1;for(var o=0;o<n.length;o++){var i=new s.a(n[o]);if(this.params[o]=i,i.anyType&&(this.anyType=!0),o===n.length-1)this.varArgs=i.varArgs;else if(i.varArgs)throw new SyntaxError('Unexpected variable arguments operator "..."')}this.fn=e}t.a=n;var s=e(1),o=e(0);n.prototype.clone=function(){return new n(typed,this.params.slice(),this.fn)},n.prototype.expand=function(){function r(i,a){if(a.length<i.params.length){var p,u,f,h=i.params[a.length];if(h.varArgs){for(u=h.clone(),p=0;p<e.conversions.length;p++)if(f=e.conversions[p],!Object(o.a)(h.types,f.from)&&Object(o.a)(h.types,f.to)){var c=u.types.length;u.types[c]=f.from,u.conversions[c]=f}r(i,a.concat(u))}else{for(p=0;p<h.types.length;p++)r(i,a.concat(new s.a(h.types[p])));for(p=0;p<e.conversions.length;p++)f=e.conversions[p],!Object(o.a)(h.types,f.from)&&Object(o.a)(h.types,f.to)&&(u=new s.a(f.from),u.conversions[0]=f,r(i,a.concat(u)))}}else t.push(new n(e,a,i.fn))}var t=[],e=this.typed;return r(this,[]),t},n.compare=function(r,t,e){if(r.params.length>t.params.length)return 1;if(r.params.length<t.params.length)return-1;var n,o=r.params.length,i=0,a=0;for(n=0;o>n;n++)r.params[n].hasConversions()&&i++,t.params[n].hasConversions()&&a++;if(i>a)return 1;if(a>i)return-1;for(n=0;n<r.params.length;n++){var p=s.a.compare(r.params[n],t.params[n],e);if(0!==p)return p}return 0},n.prototype.hasConversions=function(){for(var r=0;r<this.params.length;r++)if(this.params[r].hasConversions())return!0;return!1},n.prototype.ignore=function(){for(var r={},t=0;t<this.typed.ignore.length;t++)r[this.typed.ignore[t]]=!0;for(t=0;t<this.params.length;t++)if(this.params[t].contains(r))return!0;return!1},n.prototype.paramsStartWith=function(r){if(0===r.length)return!0;for(var t=Object(o.b)(this.params),e=Object(o.b)(r),n=0;n<r.length;n++){var s=this.params[n]||(t.varArgs?t:null),i=r[n]||(e.varArgs?e:null);if(!s||!i||!s.matches(i))return!1}return!0},n.prototype.toCode=function(r,t){for(var e=[],n=new Array(this.params.length),s=0;s<this.params.length;s++){var o=this.params[s],i=o.conversions[0];n[s]=o.varArgs?"varArgs":i?r.add(i.convert,"convert")+"(arg"+s+")":"arg"+s}var a=this.fn?r.add(this.fn,"signature"):void 0;return a?t+"return "+a+"("+n.join(", ")+"); // signature: "+this.params.join(", "):e.join("\n")},n.prototype.toString=function(){return this.params.join(", ")}},function(r,t){"use strict";function e(r,t,e,n,s){this.types=r,this.path=t||[],this.param=t[t.length-1]||null,this.signature=e||null,this.childs=n||[],this.fallThrough=s||!1}t.a=e,e.prototype.toCode=function(r,t){var e=this,n=[];if(this.param){var s=this.path.length-1,o=this.param.conversions[0],i="// type: "+(o?o.from+" (convert to "+o.to+")":this.param);if(this.param.varArgs)if(this.param.anyType)n.push(t+"if (arguments.length > "+s+") {"),n.push(t+"  var varArgs = [];"),n.push(t+"  for (var i = "+s+"; i < arguments.length; i++) {"),n.push(t+"    varArgs.push(arguments[i]);"),n.push(t+"  }"),n.push(this.signature.toCode(r,t+"  ")),n.push(t+"}");else{for(var a=function(t,n){for(var s=[],o=0;o<t.length;o++)s[o]=r.add(e.getTypeTest(t[o]),"test")+"("+n+")";return s.join(" || ")}.bind(this),p=this.param.types,u=[],f=0;f<p.length;f++)void 0===this.param.conversions[f]&&u.push(p[f]);n.push(t+"if ("+a(p,"arg"+s)+") { "+i),n.push(t+"  var varArgs = [arg"+s+"];"),n.push(t+"  for (var i = "+(s+1)+"; i < arguments.length; i++) {"),n.push(t+"    if ("+a(u,"arguments[i]")+") {"),n.push(t+"      varArgs.push(arguments[i]);");for(var f=0;f<p.length;f++){var h=this.param.conversions[f];if(h){var c=r.add(e.getTypeTest(p[f]),"test"),g=r.add(h.convert,"convert");n.push(t+"    }"),n.push(t+"    else if ("+c+"(arguments[i])) {"),n.push(t+"      varArgs.push("+g+"(arguments[i]));")}}n.push(t+"    } else {"),n.push(t+"      throw createError(name, arguments.length, i, arguments[i], '"+u.join(",")+"');"),n.push(t+"    }"),n.push(t+"  }"),n.push(this.signature.toCode(r,t+"  ")),n.push(t+"}")}else if(this.param.anyType)n.push(t+"// type: any"),n.push(this._innerCode(r,t));else{var v=this.param.types[0],c="any"!==v?r.add(e.getTypeTest(v),"test"):null;n.push(t+"if ("+c+"(arg"+s+")) { "+i),n.push(this._innerCode(r,t+"  ")),n.push(t+"}")}}else n.push(this._innerCode(r,t));return n.join("\n")},e.prototype.getTypeTest=function(r){for(var t,e=this.types,n=0;n<e.length;n++){var s=e[n];if(s.name===r){t=s.test;break}}if(!t){var o;for(n=0;n<e.length;n++)if(s=e[n],s.name.toLowerCase()==r.toLowerCase()){o=s.name;break}throw new Error('Unknown type "'+r+'"'+(o?'. Did you mean "'+o+'"?':""))}return t},e.prototype._innerCode=function(r,t){var e,n=[];for(this.signature&&(n.push(t+"if (arguments.length === "+this.path.length+") {"),n.push(this.signature.toCode(r,t+"  ")),n.push(t+"}")),e=0;e<this.childs.length;e++)n.push(this.childs[e].toCode(r,t));if(!this.fallThrough||this.param&&this.param.anyType){var s=this._exceptions(r,t);s&&n.push(s)}return n.join("\n")},e.prototype._exceptions=function(r,t){var e=this.path.length;if(0===this.childs.length)return[t+"if (arguments.length > "+e+") {",t+"  throw createError(name, arguments.length, "+e+", arguments["+e+"]);",t+"}"].join("\n");for(var n={},s=[],o=0;o<this.childs.length;o++){var i=this.childs[o];if(i.param)for(var a=0;a<i.param.types.length;a++){var p=i.param.types[a];p in n||i.param.conversions[a]||(n[p]=!0,s.push(p))}}return t+"throw createError(name, arguments.length, "+e+", arguments["+e+"], '"+s.join(",")+"');"}}])});